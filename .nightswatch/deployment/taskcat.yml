######################################################################################################################
#  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.                                                #
#                                                                                                                    #
#  Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance    #
#  with the License. A copy of the License is located at                                                             #
#                                                                                                                    #
#      http://www.apache.org/licenses/LICENSE-2.0                                                                    #
#                                                                                                                    #
#  or in the 'license' file accompanying this file. This file is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES #
#  OR CONDITIONS OF ANY KIND, express or implied. See the License for the specific language governing permissions    #
#  and limitations under the License.                                                                                #
######################################################################################################################

general:
  auth:
    default: 'QnABot_Profile' # Your aws profile should be defined inside scripts/env.sh file.
project:
  name: qnabot
  shorten_stack_name: true
  template: qnabot-on-aws-main.template
tests:
  qnabot-t1:
    parameters:
      BedrockKnowledgeBaseId: JS2IUH5KR8
      BedrockKnowledgeBaseModel: anthropic.claude-3-haiku-v1
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV1 and LexV2'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: BEDROCK
      EmbeddingsBedrockModelId: cohere.embed-english-v3
      LLMApi: BEDROCK
      LLMBedrockModelId: ai21.j2-ultra-v1
      VPCSubnetIdList: 'subnet-09016e4baba00ae3b,subnet-03912dbebb5322782'
      VPCSecurityGroupIdList: 'sg-00f1c41d5ed85225e'
    regions:
      - us-east-1
  qnabot-t2:
    parameters:
      BedrockKnowledgeBaseId: M5BOFMMHJY
      BedrockKnowledgeBaseModel: anthropic.claude-3-sonnet-v1
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV1 and LexV2'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: BEDROCK
      EmbeddingsBedrockModelId: cohere.embed-multilingual-v3
      LLMApi: BEDROCK
      LLMBedrockModelId: meta.llama3-8b-instruct-v1
    regions:
      - us-west-2
  qnabot-t3:
    parameters:
      KendraWebPageIndexId: '18c53754-0a24-42eb-85d9-ad65aa24f891'
      KendraFaqIndexId: '18c53754-0a24-42eb-85d9-ad65aa24f891'
      AltSearchKendraIndexes: '18c53754-0a24-42eb-85d9-ad65aa24f891'
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV1 and LexV2'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: BEDROCK
      EmbeddingsBedrockModelId: cohere.embed-english-v3
    regions:
      - ap-southeast-1
  qnabot-t4:
    parameters:
      KendraWebPageIndexId: '50849777-a352-4708-aa0d-f40046b1bdc7'
      KendraFaqIndexId: '50849777-a352-4708-aa0d-f40046b1bdc7'
      AltSearchKendraIndexes: '50849777-a352-4708-aa0d-f40046b1bdc7'
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV1 and LexV2'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: BEDROCK
      EmbeddingsBedrockModelId: cohere.embed-multilingual-v3
      LLMApi: BEDROCK
      LLMBedrockModelId: anthropic.claude-3-sonnet-v1
      VPCSubnetIdList: 'subnet-048a8cb68d4d8a82b,subnet-063f619193954f0f5'
      VPCSecurityGroupIdList: 'sg-05917a3b934d1482a'
    regions:
      - ap-southeast-2
  qnabot-t5:
    parameters:
      KendraWebPageIndexId: '72be0d99-fe41-4dda-b89c-acba05ea1282'
      KendraFaqIndexId: '72be0d99-fe41-4dda-b89c-acba05ea1282'
      AltSearchKendraIndexes: '72be0d99-fe41-4dda-b89c-acba05ea1282'
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV2 Only'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: SAGEMAKER
      SagemakerInitialInstanceCount: 1
      LLMSagemakerInitialInstanceCount: 1
      LLMApi: SAGEMAKER
      LLMSagemakerInstanceType: ml.g5.12xlarge
      VPCSubnetIdList: 'subnet-0ace0b2f3a0fb4661,subnet-026e33480b28fe999'
      VPCSecurityGroupIdList: 'sg-030bfbe5f4d12ef8c'
    regions:
      - ca-central-1
  qnabot-t6:
    parameters:
      KendraWebPageIndexId: 'e647d178-347c-48cb-9386-4dcb2f73ebae'
      KendraFaqIndexId: 'e647d178-347c-48cb-9386-4dcb2f73ebae'
      AltSearchKendraIndexes: 'e647d178-347c-48cb-9386-4dcb2f73ebae'
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV1 and LexV2'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: SAGEMAKER
      SagemakerInitialInstanceCount: 1
      LLMSagemakerInitialInstanceCount: 1
      LLMApi: SAGEMAKER
      LLMSagemakerInstanceType: ml.g5.12xlarge
    regions:
      - eu-west-1
  qnabot-t7:
    parameters:
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV1 and LexV2'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: BEDROCK
      EmbeddingsBedrockModelId: amazon.titan-embed-text-v1
      LLMApi: BEDROCK
      LLMBedrockModelId: amazon.titan-text-express-v1
      VPCSubnetIdList: 'subnet-02b3970087aaace45,subnet-0daa7ab958294273b'
      VPCSecurityGroupIdList: 'sg-0823036a7c1bfdc0f'
    regions:
      - ap-northeast-1
  qnabot-t8:
    parameters:
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV1 and LexV2'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: BEDROCK
      EmbeddingsBedrockModelId: amazon.titan-embed-text-v1
      LLMApi: BEDROCK
      LLMBedrockModelId: anthropic.claude-v2.1
      VPCSubnetIdList: 'subnet-06454e84cf01bf878,subnet-0eceb4b2e65713a25'
      VPCSecurityGroupIdList: 'sg-0ab555e1803bfee76'
    regions:
      - eu-central-1
  qnabot-t9:
    parameters:
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV1 and LexV2'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: SAGEMAKER
      SagemakerInitialInstanceCount: 1
    regions:
      - eu-west-2
  qnabot-t10:
    parameters:
      OpenSearchNodeCount: '4'
      Email: 'test@example.com'
      OpenSearchDashboardsRetentionMinutes: '43200'
      LexBotVersion: 'LexV2 Only'
      LexV2BotLocaleIds: 'en_US,es_US,fr_CA'
      PublicOrPrivate: 'PRIVATE'
      Username: 'Admin'
      XraySetting: 'FALSE'
      FulfillmentConcurrency: '0'
      EmbeddingsApi: SAGEMAKER
      SagemakerInitialInstanceCount: 1
    regions:
      - ap-northeast-2
##ca-central-1 only supports Lexv2 not Lexv1